<app-header></app-header>

<div>
  <h1>Scrivi il tuo Articolo</h1>
  <form class="modulo-intero" [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="titolo-modulo">
         <mat-form-field appearance="fill">
            <mat-label>Titolo</mat-label>
            <input matInput formControlName="titolo">
         </mat-form-field>
      </div>
      <div class="selettori">

           <mat-label>Autore:{{autore}}</mat-label>
           <!--<mat-select [formControl]="autore" required>
              <mat-option>--</mat-option>
              <mat-option *ngFor="let aut of autori" [value]="aut">
                  {{aut}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="categoria.hasError('required')">Autore obbligatorio. Sceglierne uno.</mat-error>
          -->

          <mat-form-field appearance="fill">
            <mat-label>Visibilit√†</mat-label>
            <mat-select [formControl]="visibilita" required>
              <mat-option>--</mat-option>
              <mat-option value="h1">
                 h1
              </mat-option>
              <mat-option value="h2">
                h2
             </mat-option>
             <mat-option value="h3">
              h3
             </mat-option>

              </mat-select>
             <mat-error *ngIf="categoria.hasError('required')">Ctegoria obbligatoria. Sceglierne una.</mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Categoria</mat-label>
            <mat-select [formControl]="categoria" required>
              <mat-option>--</mat-option>
              <mat-option *ngFor="let cate of categorie" [value]="cate.nome">
                 {{cate.nome}}
              </mat-option>
              </mat-select>
             <mat-error *ngIf="categoria.hasError('required')">Ctegoria obbligatoria. Sceglierne una.</mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Choose a date</mat-label>
          <input matInput formControlName="picker"[matDatepicker]="picker">
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div>
        <label>Url Immagine</label>
        <input type="file" #inputFile (change)="uploadFile($event,inputFile.value)">
      </div>



      <div class="testo-articolo">
        <app-immagine *ngIf="updPath" [imgPath]="updPath"></app-immagine>
        <mat-form-field appearance="fill">
          <mat-label>Testo Articolo:</mat-label>
          <textarea matInput formControlName="corpo"></textarea>
        </mat-form-field>
        <div class="form-action">
          <button mat-fab color="primary" type="submit" [disabled]="!form.valid">
            <mat-icon>check_circle</mat-icon>
          </button>
        </div>
      </div>

  </form>






</div>
